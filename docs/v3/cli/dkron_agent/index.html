<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-v3 docs-doc-page docs-doc-id-cli/dkron_agent" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">dkron agent | Dkron</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://dkron.io/docs/v3/cli/dkron_agent"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="v3"><meta data-rh="true" name="docusaurus_tag" content="docs-default-v3"><meta data-rh="true" name="docsearch:version" content="v3"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-v3"><meta data-rh="true" property="og:title" content="dkron agent | Dkron"><meta data-rh="true" name="description" content="dkron agent"><meta data-rh="true" property="og:description" content="dkron agent"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://dkron.io/docs/v3/cli/dkron_agent"><link data-rh="true" rel="alternate" href="https://dkron.io/docs/v3/cli/dkron_agent" hreflang="en"><link data-rh="true" rel="alternate" href="https://dkron.io/docs/v3/cli/dkron_agent" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Dkron RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Dkron Atom Feed"><link rel="stylesheet" href="/assets/css/styles.256a188d.css">
<script src="/assets/js/runtime~main.90e0f6e3.js" defer="defer"></script>
<script src="/assets/js/main.4b7f4ab2.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/dkron-logo-black.png" alt="Dkron Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/dkron-logo-black.png" alt="Dkron Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/v3/basics/getting-started">Docs</a><a class="navbar__item navbar__link" href="/api/">API</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/license">License</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/v3/basics/getting-started">v3</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/cli/dkron_agent">v4</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/v3/cli/dkron_agent">v3</a></li><li><a class="dropdown__link" href="/docs/v2/cli/dkron_agent">v2</a></li><li><a class="dropdown__link" href="/docs/v1/cli/dkron_agent">v1</a></li></ul></div><a class="navbar__item navbar__link navbar-link-go-pro" href="/pro/">PRO</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/distribworks/dkron" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/v3/basics/getting-started">Basics</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/v3/intro">Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/v3/usage/chaining">Usage</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/v3/cli/dkron">CLI</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/cli/dkron">dkron</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/v3/cli/dkron_agent">dkron agent</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/cli/dkron_completion">dkron completion</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/cli/dkron_completion_bash">dkron completion bash</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/cli/dkron_completion_fish">dkron completion fish</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/cli/dkron_completion_powershell">dkron completion powershell</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/cli/dkron_completion_zsh">dkron completion zsh</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/cli/dkron_doc">dkron doc</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/cli/dkron_keygen">dkron keygen</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/cli/dkron_leave">dkron leave</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/cli/dkron_raft">dkron raft</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/cli/dkron_raft_list-peers">dkron raft list-peers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/cli/dkron_raft_remove-peer">dkron raft remove-peer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v3/cli/dkron_version">dkron version</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/v3/pro/acls">Pro</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/v3/upgrading/from_v1_to_v2">Upgrading</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Dkron<!-- --> <b>v3</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/cli/dkron_agent">latest version</a></b> (<!-- -->v4<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">CLI</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">dkron agent</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v3</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>dkron agent</h1></header><h2 id="dkron-agent">dkron agent</h2>
<p>Start a dkron agent</p>
<h3 id="synopsis">Synopsis</h3>
<p>Start a dkron agent that schedules jobs, listens for executions and runs executors.
It also runs a web UI.</p>
<pre><code>dkron agent [flags]
</code></pre>
<h3 id="options">Options</h3>
<pre><code>      --advertise-addr string           Address used to advertise to other nodes in the cluster. By default,
                                        the bind address is advertised. The value supports 
                                        go-sockaddr/template format.
      --advertise-rpc-port int          Use the value of rpc-port by default
      --bind-addr string                Specifies which address the agent should bind to for network services, 
                                        including the internal gossip protocol and RPC mechanism. This should be 
                                        specified in IP format, and can be used to easily bind all network services 
                                        to the same address. The value supports go-sockaddr/template format.
                                         (default &quot;{{ GetPrivateIP }}:8946&quot;)
      --bootstrap-expect int            Provides the number of expected servers in the datacenter. Either this value 
                                        should not be provided or the value must agree with other servers in the 
                                        cluster. When provided, Dkron waits until the specified number of servers are 
                                        available and then bootstraps the cluster. This allows an initial leader to be 
                                        elected automatically. This flag requires server mode.
      --cronitor-endpoint string        Cronitor endpoint to call for notifications
      --data-dir string                 Specifies the directory to use for server-specific data, including the 
                                        replicated log. By default, this is the top-level data-dir, 
                                        like [/var/lib/dkron] (default &quot;dkron.data&quot;)
      --datacenter string               Specifies the data center of the local agent. All members of a datacenter 
                                        should share a local LAN connection. (default &quot;dc1&quot;)
      --disable-usage-stats             Disable sending anonymous usage stats
      --dog-statsd-addr string          DataDog Agent address
      --dog-statsd-tags strings         Datadog tags, specified as key:value
      --enable-prometheus               Enable serving prometheus metrics
      --encrypt string                  Key for encrypting network traffic. Must be a base64-encoded 16-byte key
  -h, --help                            help for agent
      --http-addr string                Address to bind the UI web server to. Only used when server. The value 
                                        supports go-sockaddr/template format. (default &quot;:8080&quot;)
      --join strings                    An initial agent to join with. This flag can be specified multiple times
      --log-level string                Log level (debug|info|warn|error|fatal|panic) (default &quot;info&quot;)
      --mail-from string                From email address to use
      --mail-host string                Mail server host address to use for notifications
      --mail-password string            Mail server password to use
      --mail-payload string             Notification mail payload
      --mail-port uint16                Mail server port
      --mail-subject-prefix string      Notification mail subject prefix (default &quot;[Dkron]&quot;)
      --mail-username string            Mail server username used for authentication
      --node-name string                Name of this node. Must be unique in the cluster (default &quot;mariette.local&quot;)
      --pre-webhook-endpoint string     Pre-webhook endpoint to call for notifications
      --pre-webhook-headers strings     Headers to use when calling the pre-webhook. Can be specified multiple times
      --pre-webhook-payload string      Body of the POST request to send on pre-webhook call
      --profile string                  Profile is used to control the timing profiles used (default &quot;lan&quot;)
      --raft-multiplier int             An integer multiplier used by servers to scale key Raft timing parameters.
                                        Omitting this value or setting it to 0 uses default timing described below. 
                                        Lower values are used to tighten timing and increase sensitivity while higher 
                                        values relax timings and reduce sensitivity. Tuning this affects the time it 
                                        takes to detect leader failures and to perform leader elections, at the expense 
                                        of requiring more network and CPU resources for better performance. By default, 
                                        Dkron will use a lower-performance timing that&#x27;s suitable for minimal Dkron 
                                        servers, currently equivalent to setting this to a value of 5 (this default 
                                        may be changed in future versions of Dkron, depending if the target minimum 
                                        server profile changes). Setting this to a value of 1 will configure Raft to 
                                        its highest-performance mode is recommended for production Dkron servers. 
                                        The maximum allowed value is 10. (default 1)
      --region string                   Specifies the region the Dkron agent is a member of. A region typically maps 
                                        to a geographic region, for example us, with potentially multiple zones, which 
                                        map to datacenters such as us-west and us-east (default &quot;global&quot;)
      --retry-interval string           Time to wait between join attempts. (default &quot;30s&quot;)
      --retry-join strings              Address of an agent to join at start time with retries enabled. 
                                        Can be specified multiple times.
      --retry-max int                   Maximum number of join attempts. Defaults to 0, which will retry indefinitely.
      --rpc-port int                    RPC Port used to communicate with clients. Only used when server. 
                                        The RPC IP Address will be the same as the bind address. (default 6868)
      --serf-reconnect-timeout string   This is the amount of time to attempt to reconnect to a failed node before 
                                        giving up and considering it completely gone. In Kubernetes, you might need 
                                        this to about 5s, because there is no reason to try reconnects for default 
                                        24h value. Also Raft behaves oddly if node is not reaped and returned with 
                                        same ID, but different IP.
                                        Format there: https://golang.org/pkg/time/#ParseDuration (default &quot;24h&quot;)
      --server                          This node is running in server mode
      --statsd-addr string              Statsd address
      --tag strings                     Tag can be specified multiple times to attach multiple key/value tag pairs 
                                        to the given node, specified as key=value
      --ui                              Enable the web UI on this node. The node must be server. (default true)
      --webhook-endpoint string         Webhook endpoint to call for notifications
      --webhook-headers strings         Headers to use when calling the webhook URL. Can be specified multiple times
      --webhook-payload string          Body of the POST request to send on webhook call
      --webhook-url string              Webhook url to call for notifications. Deprecated, use webhook-endpoint instead
</code></pre>
<h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3>
<pre><code>      --config string   config file path
</code></pre>
<h3 id="see-also">SEE ALSO</h3>
<ul>
<li><a href="/docs/cli/dkron/">dkron</a>	 - Open source distributed job scheduling system</li>
</ul>
<h6 id="auto-generated-by-spf13cobra-on-5-jun-2022">Auto generated by spf13/cobra on 5-Jun-2022</h6></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/distribworks/dkron/tree/main/website/docs/versioned_docs/version-v3/cli/dkron_agent.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/v3/cli/dkron"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">dkron</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/v3/cli/dkron_completion"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">dkron completion</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#dkron-agent" class="table-of-contents__link toc-highlight">dkron agent</a><ul><li><a href="#synopsis" class="table-of-contents__link toc-highlight">Synopsis</a></li><li><a href="#options" class="table-of-contents__link toc-highlight">Options</a></li><li><a href="#options-inherited-from-parent-commands" class="table-of-contents__link toc-highlight">Options inherited from parent commands</a></li><li><a href="#see-also" class="table-of-contents__link toc-highlight">SEE ALSO</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Intro</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/dkron" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://gitter.im/distribworks/dkron" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/distribworks" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/distribworks/dkron" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Distributed Works. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>